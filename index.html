<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Winter Wonderland Events</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', Arial, sans-serif;
            background: linear-gradient(135deg, #adbbca 0%, #8db8d4 60%, #75a2e7 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        .container {
            max-width: 820px;
            margin: 48px auto;
            background: rgba(200, 236, 227, 0.98);
            border-radius: 40px;
            box-shadow: 0 16px 64px 0 rgba(46,139,87,0.10), 0 2px 16px 0 #e0eafc88;
            padding: 68px 48px 48px 48px;
            text-align: center;
            position: relative;
            border: 2px solid #e3f0ff;
            z-index: 2;
        }
        h1 {
            font-family: 'Great Vibes', cursive;
            color: #3a5a8c;
            font-size: 3.2em;
            margin-bottom: 18px;
            letter-spacing: 6px;
            text-shadow: 0 2px 32px #e0eafc88, 0 0px 2px #fff;
            font-weight: 400;
        }
        .intro {
            font-size: 1.25em;
            color: #3a5a8c;
            margin-bottom: 44px;
            background: linear-gradient(90deg, #f7fafc 0%, #e3f0ff 100%);
            border-radius: 20px;
            padding: 26px 18px;
            box-shadow: 0 2px 18px #e3f0ff44;
            font-weight: 500;
            border: 1.5px solid #dbe6f6;
        }
        .event-list {
            list-style: none;
            padding: 0;
            margin: 0 auto 44px auto;
            max-width: 500px;
        }
        .event-list li {
            background: linear-gradient(90deg, #f7fafc 0%, #e3f0ff 100%);
            border-radius: 22px;
            margin: 24px 0;
            padding: 32px 22px;
            font-size: 1.22em;
            box-shadow: 0 2px 18px rgba(46,139,87,0.10);
            transition: box-shadow 0.22s, transform 0.22s, background 0.3s;
            position: relative;
            border: 1.5px solid #e3f0ff;
        }
        .event-list li.rsvped {
            background: linear-gradient(90deg, #d1f7e7 0%, #b3e5fc 100%);
        }
        .event-list li:hover,
        .event-list li:focus-within {
            box-shadow: 0 10px 36px rgba(46,139,87,0.18);
            transform: scale(1.04);
            border-color: #3a5a8c;
        }
        .event-link {
            text-decoration: none;
            color: #3a5a8c;
            font-weight: bold;
            font-size: 1.18em;
            transition: color 0.22s;
            outline: none;
            display: block;
            letter-spacing: 1px;
        }
        .event-link:focus,
        .event-link:hover {
            color: #b48bc8;
            text-decoration: underline;
        }
        .event-date {
            display: block;
            font-size: 1.05em;
            margin-top: 10px;
            font-weight: 400;
            letter-spacing: 1px;
            opacity: 0.85;
            font-family: 'Great Vibes', cursive;
        }
        .countdown {
            font-size: 1.08em;
            color: #3887be;
            margin-top: 10px;
            font-weight: bold;
            letter-spacing: 1px;
            background: #e3f0ff;
            border-radius: 8px;
            padding: 6px 12px;
            display: inline-block;
        }
        .rsvp-btn, .remove-rsvp-btn {
            background: linear-gradient(90deg, #3a5a8c 0%, #b48bc8 100%);
            color: #fff;
            border: none;
            border-radius: 12px;
            padding: 10px 28px;
            font-size: 1.08em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 14px;
            margin-bottom: 6px;
            box-shadow: 0 2px 10px #3a5a8c44;
            transition: background 0.2s, color 0.2s, transform 0.2s;
            display: inline-block;
        }
        .rsvp-btn:focus, .remove-rsvp-btn:focus {
            outline: 2px solid #b48bc8;
        }
        .rsvp-btn:hover, .remove-rsvp-btn:hover {
            background: linear-gradient(90deg, #b48bc8 0%, #3a5a8c 100%);
            color: #fff;
            transform: scale(1.05);
        }
        .remove-rsvp-btn {
            background: linear-gradient(90deg, #b48bc8 0%, #3a5a8c 100%);
            margin-left: 10px;
        }
        .rsvp-form {
            display: none;
            margin-top: 12px;
            background: #f7fafc;
            border-radius: 12px;
            padding: 18px 16px;
            box-shadow: 0 2px 10px #e3f0ff44;
            text-align: left;
            max-width: 340px;
            margin-left: auto;
            margin-right: auto;
        }
        .rsvp-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #3a5a8c;
        }
        .rsvp-form input, .rsvp-form select {
            width: 100%;
            padding: 8px;
            margin-bottom: 14px;
            border-radius: 6px;
            border: 1px solid #b48bc8;
            font-size: 1em;
        }
        .rsvp-form button {
            background: linear-gradient(90deg, #3a5a8c 0%, #b48bc8 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 8px 22px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 8px #3a5a8c44;
            transition: background 0.2s, color 0.2s;
        }
        .rsvp-form button:hover {
            background: linear-gradient(90deg, #b48bc8 0%, #3a5a8c 100%);
        }
        .rsvp-success {
            color: #388e3c;
            font-weight: bold;
            margin-top: 10px;
            margin-bottom: 8px;
        }
        .footer {
            margin-top: 54px;
            color: #3a5a8c;
            font-size: 1.18em;
            letter-spacing: 1px;
            background: linear-gradient(90deg, #e3f0ff 0%, #f7fafc 100%);
            border-radius: 14px;
            padding: 18px 0;
            box-shadow: 0 2px 14px #e3f0ff44;
            font-weight: 500;
            border: 1.5px solid #dbe6f6;
        }
        /* Decorative snowflakes */
        .snowfall {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            pointer-events: none;
            z-index: 1;
        }
        .snowflake-anim {
            position: absolute;
            color: #fff;
            font-size: 1.6em;
            opacity: 0.7;
            pointer-events: none;
            animation: snow-anim 12s linear infinite;
        }
        @keyframes snow-anim {
            0% { transform: translateY(-10px) rotate(0deg);}
            100% { transform: translateY(100vh) rotate(360deg);}
        }
        /* Mobile menu styles */
        .menu-toggle {
            display: none;
            background: linear-gradient(90deg, #3a5a8c 0%, #b48bc8 100%);
            color: #fff;
            border: none;
            border-radius: 14px;
            padding: 16px 32px;
            font-size: 1.18em;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 32px;
            box-shadow: 0 2px 14px #3a5a8c44;
            transition: background 0.2s, color 0.2s;
        }
        .menu-toggle:focus {
            outline: 2px solid #b48bc8;
        }
        .menu-toggle:hover {
            background: linear-gradient(90deg, #b48bc8 0%, #3a5a8c 100%);
            color: #fff;
        }
        @media (max-width: 600px) {
            .container {
                max-width: 98vw;
                padding: 32px 4vw 32px 4vw;
            }
            .event-list {
                max-width: 98vw;
            }
            .menu-toggle {
                display: block;
            }
            .event-list {
                display: none;
            }
            .event-list.active {
                display: block;
            }
        }
        /* Music player styles */
        .music-player {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: #e3f0ff;
            border-radius: 18px;
            box-shadow: 0 2px 12px #b48bc844;
            padding: 12px 18px;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .music-player button {
            background: linear-gradient(90deg, #3a5a8c 0%, #b48bc8 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 6px 16px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 2px 8px #3a5a8c44;
            transition: background 0.2s, color 0.2s;
        }
        .music-player button:hover {
            background: linear-gradient(90deg, #b48bc8 0%, #3a5a8c 100%);
        }
        .music-player label {
            font-size: 1em;
            color: #3a5a8c;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <!-- Animated Snowfall -->
    <div class="snowfall" aria-hidden="true"></div>
    <div class="container" role="main" aria-label="Winter Wonderland">
        <h1 tabindex="0">Winter Wonderland</h1>
        <div class="intro" tabindex="0">
          Join us for a series of festive events filled with joy, laughter, and holiday cheer. Whether you're looking to skate on ice, watch classic holiday movies, decorate cookies, or meet Santa himself, there's something for everyone to enjoy. Check out the events below and mark your calendars!
        </div>
        <button class="menu-toggle" aria-controls="eventList" aria-expanded="false" aria-label="Toggle event menu">
            Show Events
        </button>
        <ul class="event-list" id="eventList">
            <li>
                <a class="event-link" href="Holiday-Movie-Night.html" tabindex="0" aria-label="Holiday Movie Night, December 1 and December 2">
                    üé¨ Holiday Movie Night
                    <span class="event-date" style="color:#3a5a8c;">December 1 & December 2</span>
                </a>
                <div class="countdown" data-date="2025-12-01T18:00:00">Loading...</div>
                <button class="rsvp-btn" data-event="Holiday Movie Night">RSVP</button>
                <form class="rsvp-form" data-event="Holiday Movie Night">
                    <label>Name: <input type="text" name="name" required></label>
                    <label>Email: <input type="email" name="email" required></label>
                    <button type="submit">Submit RSVP</button>
                    <div class="rsvp-success"></div>
                </form>
            </li>
            <li>
                <a class="event-link" href="Ice-Skating.html" tabindex="0" aria-label="Ice Skating, December 5 to December 15">
                    ‚õ∏Ô∏è Ice Skating
                    <span class="event-date" style="color:#b48bc8;">December 5 ‚Äì December 15</span>
                </a>
                <div class="countdown" data-date="2025-12-05T10:00:00">Loading...</div>
                <button class="rsvp-btn" data-event="Ice Skating">RSVP</button>
                <form class="rsvp-form" data-event="Ice Skating">
                    <label>Name: <input type="text" name="name" required></label>
                    <label>Email: <input type="email" name="email" required></label>
                    <button type="submit">Submit RSVP</button>
                    <div class="rsvp-success"></div>
                </form>
            </li>
            <li>
                <a class="event-link" href="Cookie-Decorating.html" tabindex="0" aria-label="Cookie Decorating Workshop, December 18 to December 20">
                    üç™ Cookie Decorating Workshop
                    <span class="event-date" style="color:#d2691e;">December 18 ‚Äì December 20</span>
                </a>
                <div class="countdown" data-date="2025-12-18T14:00:00">Loading...</div>
                <button class="rsvp-btn" data-event="Cookie Decorating Workshop">RSVP</button>
                <form class="rsvp-form" data-event="Cookie Decorating Workshop">
                    <label>Name: <input type="text" name="name" required></label>
                    <label>Email: <input type="email" name="email" required></label>
                    <button type="submit">Submit RSVP</button>
                    <div class="rsvp-success"></div>
                </form>
            </li>
            <li>
                <a class="event-link" href="Santa-Workshop.html" tabindex="0" aria-label="Santa's Workshop, December 22 to December 24">
                    üéÖ Santa's Workshop
                    <span class="event-date" style="color:#8b3c2e;">December 22 ‚Äì December 24</span>
                </a>
                <div class="countdown" data-date="2025-12-22T11:00:00">Loading...</div>
                <button class="rsvp-btn" data-event="Santa's Workshop">RSVP</button>
                <form class="rsvp-form" data-event="Santa's Workshop">
                    <label>Name: <input type="text" name="name" required></label>
                    <label>Email: <input type="email" name="email" required></label>
                    <button type="submit">Submit RSVP</button>
                    <div class="rsvp-success"></div>
                </form>
            </li>
            <li>
                <a class="event-link" href="Christmas-Event-Invitation.html" tabindex="0" aria-label="Christmas Season Celebration, December 20 to December 31">
                    üéÑ Christmas Season Celebration
                    <span class="event-date" style="color:#3a5a8c;">December 20 ‚Äì December 31</span>
                </a>
                <div class="countdown" data-date="2025-12-20T17:00:00">Loading...</div>
                <button class="rsvp-btn" data-event="Christmas Season Celebration">RSVP</button>
                <form class="rsvp-form" data-event="Christmas Season Celebration">
                    <label>Name: <input type="text" name="name" required></label>
                    <label>Email: <input type="email" name="email" required></label>
                    <button type="submit">Submit RSVP</button>
                    <div class="rsvp-success"></div>
                </form>
            </li>
            <li>
                <a class="event-link" href="Gift-Exchange.html" tabindex="0" aria-label="Gift Exchange and Celebration, December 25, December 31 and January 1">
                    üéÅ Gift Exchange & Celebration
                    <span class="event-date" style="color:#7d8b2e;">December 25, December 31 & January 1</span>
                </a>
                <div class="countdown" data-date="2025-12-25T15:00:00">Loading...</div>
                <button class="rsvp-btn" data-event="Gift Exchange & Celebration">RSVP</button>
                <form class="rsvp-form" data-event="Gift Exchange & Celebration">
                    <label>Name: <input type="text" name="name" required></label>
                    <label>Email: <input type="email" name="email" required></label>
                    <button type="submit">Submit RSVP</button>
                    <div class="rsvp-success"></div>
                </form>
            </li>
            <li>
                <a class="event-link" href="Event-location.html" tabindex="0" aria-label="Event Locations">
                    üìç Event Locations
                    <span class="event-date" style="color:#b48bc8;">See where each event happens</span>
                </a>
            </li>
        </ul>
        <div class="footer" tabindex="0">
            Brought to you by: Winter Wonderland Committee &mdash; <span id="footer-year"></span><br>
            <span style="font-size:1em; color:#7fa7d6;">
                <strong>Contact:</strong> <a href="mailto:winter@wonderland.com" style="color:#3a5a8c;text-decoration:underline;">winter@wonderland.com</a> &nbsp;|&nbsp;
                <strong>Follow us:</strong>
                <a href="https://facebook.com" target="_blank" style="color:#3a5a8c;text-decoration:none;">Facebook</a> &bull;
                <a href="https://twitter.com" target="_blank" style="color:#3a5a8c;text-decoration:none;">Twitter</a> &bull;
                <a href="https://instagram.com" target="_blank" style="color:#3a5a8c;text-decoration:none;">Instagram</a>
            </span>
            <br>
            <span style="font-size:0.95em; color:#888;">
                &copy; <span id="footer-year-copy"></span> Winter Wonderland. All rights reserved.
            </span>
        </div>
    <!-- Music Player -->
    <div class="music-player" id="musicPlayer">
        <label for="musicToggle">Winter Melody</label>
        <button id="musicToggle">Play</button>
        <audio id="bgMusic" loop>
            <source src="winter-melody.mp3" type="audio/mp3">
        </audio>
    </div>
    <script>
        // Animated Snowfall
        function createSnowfall() {
            const snowContainer = document.querySelector('.snowfall');
            for (let i = 0; i < 40; i++) {
                const snow = document.createElement('span');
                snow.className = 'snowflake-anim';
                snow.textContent = ['‚ùÑÔ∏è','‚ùÖ','‚ùÜ'][Math.floor(Math.random()*3)];
                snow.style.left = Math.random() * 100 + 'vw';
                snow.style.fontSize = (1.2 + Math.random()*1.2) + 'em';
                snow.style.animationDuration = (8 + Math.random()*8) + 's';
                snow.style.top = (-10 - Math.random()*40) + 'px';
                snowContainer.appendChild(snow);
            }
        }
        createSnowfall();

        // Countdown Timer for each event
        function updateCountdowns() {
            const countdowns = document.querySelectorAll('.countdown');
            countdowns.forEach(function(cd) {
                const dateStr = cd.getAttribute('data-date');
                if (!dateStr) return;
                const eventDate = new Date(dateStr);
                const now = new Date();
                let diff = eventDate - now;
                if (diff <= 0) {
                    cd.textContent = "Event started!";
                    return;
                }
                let days = Math.floor(diff / (1000 * 60 * 60 * 24));
                let hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                let mins = Math.floor((diff / (1000 * 60)) % 60);
                let secs = Math.floor((diff / 1000) % 60);
                cd.textContent = `Starts in ${days}d ${hours}h ${mins}m ${secs}s`;
            });
        }
        setInterval(updateCountdowns, 1000);
        updateCountdowns();

        // RSVP Button and Form Logic
        document.querySelectorAll('.rsvp-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const event = btn.getAttribute('data-event');
                document.querySelectorAll('.rsvp-form').forEach(form => {
                    form.style.display = 'none';
                });
                const form = document.querySelector(`.rsvp-form[data-event="${event}"]`);
                if (form) form.style.display = 'block';
            });
        });

        document.querySelectorAll('.rsvp-form').forEach(form => {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                const name = form.querySelector('input[name="name"]').value.trim();
                const email = form.querySelector('input[name="email"]').value.trim();
                if (!name || !email) return;
                let rsvps = JSON.parse(localStorage.getItem('winter_rsvps') || '{}');
                const event = form.getAttribute('data-event');
                rsvps[event] = [{ name, email, time: new Date().toISOString() }];
                localStorage.setItem('winter_rsvps', JSON.stringify(rsvps));
                form.querySelector('.rsvp-success').textContent = "Thank you for your RSVP!";
                form.reset();
                setTimeout(() => {
                    form.style.display = 'none';
                    form.querySelector('.rsvp-success').textContent = "";
                    updateRSVPBoxes();
                }, 1200);
            });
        });

        // RSVP box color and Remove RSVP button
        function updateRSVPBoxes() {
            let rsvps = JSON.parse(localStorage.getItem('winter_rsvps') || '{}');
            document.querySelectorAll('.event-list li').forEach(li => {
                const rsvpBtn = li.querySelector('.rsvp-btn');
                const event = rsvpBtn ? rsvpBtn.getAttribute('data-event') : null;
                if (event && rsvps[event] && rsvps[event].length > 0) {
                    li.classList.add('rsvped');
                    if (rsvpBtn) rsvpBtn.style.display = 'none';
                    // Add Remove RSVP button if not present
                    if (!li.querySelector('.remove-rsvp-btn')) {
                        const removeBtn = document.createElement('button');
                        removeBtn.className = 'remove-rsvp-btn';
                        removeBtn.textContent = "Remove RSVP";
                        removeBtn.onclick = function() {
                            delete rsvps[event];
                            localStorage.setItem('winter_rsvps', JSON.stringify(rsvps));
                            updateRSVPBoxes();
                        };
                        // Insert after RSVP button
                        if (rsvpBtn) rsvpBtn.parentNode.insertBefore(removeBtn, rsvpBtn.nextSibling);
                    }
                } else {
                    li.classList.remove('rsvped');
                    if (rsvpBtn) rsvpBtn.style.display = 'inline-block';
                    // Remove Remove RSVP button if present
                    const removeBtn = li.querySelector('.remove-rsvp-btn');
                    if (removeBtn) removeBtn.remove();
                }
            });
        }
        updateRSVPBoxes();

        // Mobile menu toggle for accessibility
        const menuToggle = document.querySelector('.menu-toggle');
        const eventList = document.getElementById('eventList');
        menuToggle.addEventListener('click', function() {
            const expanded = eventList.classList.toggle('active');
            menuToggle.setAttribute('aria-expanded', expanded);
            menuToggle.textContent = expanded ? 'Hide Events' : 'Show Events';
        });
        function handleResize() {
            if (window.innerWidth > 600) {
                eventList.classList.add('active');
                menuToggle.setAttribute('aria-expanded', true);
                menuToggle.style.display = 'none';
            } else {
                eventList.classList.remove('active');
                menuToggle.setAttribute('aria-expanded', false);
                menuToggle.style.display = 'block';
                menuToggle.textContent = 'Show Events';
            }
        }
        window.addEventListener('resize', handleResize);
        window.addEventListener('DOMContentLoaded', handleResize);

        // Music Player (with autoplay fix for browsers)
        const musicPlayer = document.getElementById('musicPlayer');
        const musicToggle = document.getElementById('musicToggle');
        const bgMusic = document.getElementById('bgMusic');
        let isPlaying = false;
        musicToggle.addEventListener('click', function() {
            // Try to play music, handle browser restrictions
            if (!isPlaying) {
                bgMusic.volume = 0.5;
                const playPromise = bgMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        musicToggle.textContent = "Pause";
                        isPlaying = true;
                    }).catch(() => {
                        // If play fails, try to resume after user interaction
                        document.body.addEventListener('click', resumeMusicOnce, { once: true });
                        alert("Please click anywhere on the page to allow music playback.");
                    });
                }
            } else {
                bgMusic.pause();
                musicToggle.textContent = "Play";
                isPlaying = false;
            }
        });
        function resumeMusicOnce() {
            bgMusic.play();
            musicToggle.textContent = "Pause";
            isPlaying = true;
        }
        bgMusic.addEventListener('ended', function() {
            musicToggle.textContent = "Play";
            isPlaying = false;
        });

        // Footer year
        document.getElementById('footer-year').textContent = new Date().getFullYear();
        document.getElementById('footer-year-copy').textContent = new Date().getFullYear();
    </script>
</body>
</html>